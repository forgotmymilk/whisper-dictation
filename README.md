# Universal Whisper Dictation (é€šç”¨è¯­éŸ³è¾“å…¥æ³•) ğŸ¤

> A portable, user-friendly voice dictation system with smart formatting for Chinese, English, and mixed-language input.
> 
> ä¸€ä¸ªä¾¿æºã€æ˜“ç”¨çš„è¯­éŸ³è¾“å…¥ç³»ç»Ÿï¼Œæ”¯æŒä¸­è‹±æ–‡æ··åˆè¾“å…¥åŠæ™ºèƒ½æ ¼å¼åŒ–ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½ / Key Features

### ğŸŒ å¤šè¯­è¨€æ”¯æŒ / Multi-Language Support
- **ä¸­æ–‡ (Chinese)**: è‡ªåŠ¨æ ‡ç‚¹ (ï¼Œã€‚ï¼ï¼Ÿ)ã€æ™ºèƒ½åˆ†æ®µã€‚
- **è‹±æ–‡ (English)**: è‡ªåŠ¨æ ‡ç‚¹ã€å¥é¦–å¤§å†™ã€æ™ºèƒ½åˆ†å¥ã€‚
- **æ··åˆ (Mixed)**: è‡ªåŠ¨ä¼˜åŒ–ä¸­è‹±æ–‡ä¹‹é—´çš„ç©ºæ ¼ (Auto-spacing between Chinese & English)ã€‚

### âœ¨ AI æ¶¦è‰² (AI Polish)
- **å¤šæ¨¡å—é…ç½® (Modular Profiles)**: æ‘’å¼ƒå•ä¸€ Promptï¼Œè‡ªç”±ç»„åˆ **[Persona (äººè®¾)] + [Style (æ–‡é£)] + [Translation (ç¿»è¯‘)]**ã€‚
- **ä¸°å¯Œçš„é¢„è®¾åº“ (Built-in Presets)**: å†…ç½®å¤šç§çƒ­é—¨äººè®¾ä¸ç¿»è¯‘æ¨¡æ¿ (å¦‚ Steve Jobs, Yoda, ç¿»è¯‘ä¸ºåœ°é“ç¾è¯­ç­‰)ã€‚
- **å¿«é€Ÿåˆ‡æ¢ (Quick Switch)**: æ”¯æŒå°†é…ç½®ä¿å­˜ä¸º Quick Profileï¼Œåœ¨ç³»ç»Ÿæ‰˜ç›˜å³é”®èœå•ä¸­ä¸€é”®åˆ‡æ¢ã€‚
- **æ··åˆè¯­è¨€ä¿æŠ¤ (Language Preservation)**: ä¸¥æ ¼ä¿ç•™åŸå¥çš„çœŸå®è¯­ç§ï¼Œå®Œç¾æ”¯æŒä¸­è‹±å¤¹æ‚ (Code-switching)ã€‚
- **å…¼å®¹æ€§ (BYO Key)**: æ”¯æŒ OpenAI, DeepSeek, Google Gemini ç­‰æ‰€æœ‰å…¼å®¹ APIã€‚

### ğŸ’¾ çŠ¶æ€å¤‡ä»½ä¸æœ¬åœ°å½’æ¡£ (Stateful Backup & Archiving)
- **æ— æŸå‰ªè´´æ¿ (Safe Clipboard Input)**: ä¸“ä¸º Fluent Search ç­‰ UWP ç°ä»£åº”ç”¨å¼€å‘çš„å‰ªè´´æ¿æ³¨å…¥æ¨¡å¼ã€‚æ¯«ç§’çº§å¤‡ä»½å¹¶è¿˜åŸä½ çš„ç‰©ç†å‰ªè´´æ¿ï¼Œæ— è®ºæ€ä¹ˆè¯­éŸ³è¾“å…¥ï¼Œéƒ½ä¸ä¼šè¦†ç›–ä½ åŸæœ¬å¤åˆ¶çš„æ•°æ®ã€‚
- **æœ¬åœ°å†å²è®°å½• (Local History Logging)**: åƒå†™æ—¥è®°ä¸€æ ·è‡ªåŠ¨ä¿å­˜æ¯ä¸€æ¬¡è¯­éŸ³è¾“å…¥çš„åŸå§‹æ¨æµ‹ï¼ˆRawï¼‰ä¸ AI æ¶¦è‰²ç»“æœï¼ˆPolishedï¼‰ã€‚æŒ‰æœˆå½’æ¡£ä¸ºæœ¬åœ° Markdown æ–‡ä»¶ï¼Œæ–¹ä¾¿å¤ç›˜ä¸çŸ¥è¯†æ²‰æ·€ã€‚

### ğŸ® æ¸¸æˆå…¼å®¹æ¨¡å¼ / Game Compatibility
- **Smart Latch**: **è½»æŒ‰ (Tap)** å¿«æ·é”®åˆ‡æ¢å½•éŸ³å¼€å…³ï¼ˆè§£å†³æ¸¸æˆå±è”½é•¿æŒ‰çš„é—®é¢˜ï¼‰ï¼›**é•¿æŒ‰ (Hold)** ä¿æŒå¯¹è®²æœºæ¨¡å¼ã€‚
- **WASAPI**: ä½¿ç”¨å…±äº«éŸ³é¢‘æ¨¡å¼ï¼Œå®Œç¾å…¼å®¹ã€Šæœ€ç»ˆå¹»æƒ³7 é‡åˆ¶ç‰ˆã€‹ã€ã€Šèµ›åšæœ‹å…‹ 2077ã€‹ç­‰ç‹¬å éŸ³é¢‘çš„æ¸¸æˆã€‚

### ğŸ•¹ï¸ æ‚¬æµ®æ§åˆ¶é¢æ¿ (Windows 11-Style Floating Panel)
- **æ™ºèƒ½çŠ¶æ€æŒ‡ç¤º**: é—²ç½® (ç»¿è‰²å‘¼å¸ç¯) -> å½•éŸ³ (çº¢è‰²å£°æ³¢æ¶Ÿæ¼ª) -> å¤„ç†ä¸­ (ç¥ç€è‰²æ—‹è½¬)ã€‚
- **é¼ æ ‡å¿«æ·æ§åˆ¶**: æ”¯æŒé¼ æ ‡**å·¦é”®ç‚¹å‡»**ä¸­å¿ƒéº¦å…‹é£å›¾æ ‡ç›´æ¥å¼€å§‹/åœæ­¢å½•éŸ³ã€‚
- **å¿«é€Ÿè®¾ç½®**: ç‚¹å‡»åº•éƒ¨çš„ âš™ï¸ å›¾æ ‡å¯ç›´æ¥æ‰“å¼€ AI æ¶¦è‰²ä¸ç³»ç»Ÿè®¾ç½®ï¼
- **è‡ªç”±æ‹–æ‹½**: æŒ‰ä½é¢æ¿ä»»æ„éç‚¹å‡»åŒºåŸŸå³å¯åœ¨å±å¹•ä¸Šè‡ªç”±æ‹–æ‹½ã€‚

### ğŸš€ é€šç”¨æ€§ / Universal Compatibility
- **æ— éœ€ç®¡ç†å‘˜æƒé™ (No Admin Needed)**: åœ¨ä»»ä½•æ–‡ä»¶å¤¹è§£å‹å³ç”¨ã€‚
- **è‡ªåŠ¨æ£€æµ‹ (Auto-Detect)**: è‡ªåŠ¨è¯†åˆ« NVIDIA GPU åŠ é€Ÿï¼Œæ— æ˜¾å¡è‡ªåŠ¨åˆ‡æ¢ CPU æ¨¡å¼ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ / Quick Start

### é¦–æ¬¡å®‰è£… / First Time Setup
1. **ä¸‹è½½** æœ€æ–°ç‰ˆçš„å‹ç¼©åŒ… (ç”± `build_exe.py` ç”Ÿæˆçš„ä¾¿æºåŒ–åˆ†å‘åŒ…)ã€‚
2. **è§£å‹** åˆ°ä»»æ„ç›®å½•ã€‚
3. **åŒå‡»** `start-universal.bat`ã€‚

### æ—¥å¸¸ä½¿ç”¨ / Daily Use
è¿è¡Œ `start-universal.bat` (ä¼šè‡ªåŠ¨æ™ºèƒ½åŒ¹é…è¿è¡Œç¯å¢ƒ)ï¼Œç„¶åï¼š
- **æŒ‰ä½ (HOLD)** å¿«æ·é”® (é»˜è®¤ F15) **è¯´è¯**ï¼Œæ¾å¼€å³å¯ä¸Šå±ã€‚
- æˆ– **ç‚¹å‡» (CLICK)** æ‚¬æµ®é¢æ¿çš„éº¦å…‹é£å›¾æ ‡å¼€å§‹å½•éŸ³ï¼Œå†æ¬¡ç‚¹å‡»åœæ­¢ã€‚
- **è½»æŒ‰ (TAP)** å¿«æ·é”®å¯åˆ‡æ¢ä¸ºâ€œé•¿å½•éŸ³æ¨¡å¼â€ (å†æ¬¡è½»æŒ‰åœæ­¢)ã€‚

*(é’ˆå¯¹å¼€å‘è€…: è¿è¡Œ `start-dev.bat` å¯å¼ºåˆ¶ä» `.venv` æºç å¯åŠ¨å¹¶æŸ¥çœ‹å®Œæ•´æ§åˆ¶å°æ—¥å¿—)*

---

## âš™ï¸ é…ç½®è¯´æ˜ / Configuration

### è®¾ç½®å‘å¯¼ / Setup Wizard
é¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨å¯åŠ¨å‘å¯¼ï¼Œå¼•å¯¼ä½ è®¾ç½®ï¼š
- **è¯­è¨€åå¥½**: ä¸­æ–‡/è‹±æ–‡/æ··åˆ
- **æ–‡æœ¬é£æ ¼**: èŠå¤©/æ­£å¼/å•†åŠ¡
- **å¿«æ·é”®**: è‡ªå®šä¹‰è§¦å‘é”® (æ¨è F15-F20)

### AI æ¶¦è‰²è®¾ç½® / AI Polish Setup
é€šè¿‡ç‚¹å‡»æ‚¬æµ®é¢æ¿çš„ **âš™ï¸ å›¾æ ‡**ï¼Œæˆ–æ‰˜ç›˜å³é”® -> **Settings**ï¼š
- **å¼€å¯**: å‹¾é€‰ "Enable AI Polish"ã€‚
- **å¡«å†™ API**: å¡«å…¥ä½ çš„ Base URL, Model Name å’Œ API Keyã€‚
- **ä¸‰æ”¯æŸ±ç»„åˆ (Three Pillars)**: ç‚¹å‡»å„ä¸ªåˆ†ç±»æ‰“å¼€**ä¸“å±çš„æ»šåŠ¨é€‰æ‹©é¢æ¿**ï¼Œä¸ä»…å¯ä»¥æœç´¢å’Œé¢„è§ˆ Promptï¼Œè¿˜èƒ½è½»æ¾æ·»åŠ ã€åˆ é™¤è‡ªå®šä¹‰äººè®¾ã€‚
- **ä¿å­˜é…ç½®**: ç‚¹å‡» "Save as Quick Profile" å¯ä»¥åœ¨ç³»ç»Ÿæ‰˜ç›˜èœå•ä¸­å¿«é€Ÿåˆ‡æ¢ä¸“å±é…ç½®ï¼

### é…ç½®æ–‡ä»¶ / User Config
æ‰€æœ‰è®¾ç½®ä¿å­˜åœ¨ `user-config.json` ä¸­ï¼š
```json
{
  "hotkey": "f15",
  "ai_polish_enabled": true,
  "ai_model": "gpt-4o-mini",
  "language": null,      // null = Auto-detect
  "device": "auto"       // auto / cuda / cpu
}
```

---

## ğŸ“ æ•ˆæœç¤ºä¾‹ / Examples

### ä¸­æ–‡è¾“å…¥ (Chinese)
```
è¾“å…¥:  ä»Šå¤©å¤©æ°”çœŸå¥½å•Šæˆ‘è¦å»å…¬å›­ç©ç„¶åå›å®¶åƒé¥­
è¾“å‡º:  ä»Šå¤©å¤©æ°”çœŸå¥½å•Šï¼æˆ‘è¦å»å…¬å›­ç©ï¼Œç„¶åå›å®¶åƒé¥­ã€‚
```

### è‹±æ–‡è¾“å…¥ (English)
```
Input:  hello today is a great day i want to go to the park
Output: Hello. Today is a great day. I want to go to the park.
```

### æ··åˆè¾“å…¥ (Mixed)
```
è¾“å…¥:  æˆ‘æœ‰5ä¸ªappleå’Œ3ä¸ªbanana today is great
è¾“å‡º:  æˆ‘æœ‰ 5 ä¸ª apple å’Œ 3 ä¸ª banana. Today is great.
```

### AI æ¶¦è‰² (AI Polish)
```
è¯­éŸ³: "I want open window let wind come."
è¾“å‡º: "I would like to open the window to let in some fresh air." (Native Speaker Mode)
```

---

## ğŸ–±ï¸ é¼ æ ‡ä¾§é”®è®¾ç½® / Mouse Button Setup

æ¨èä½¿ç”¨ **X-Mouse Button Control** å°†é¼ æ ‡ä¾§é”®æ˜ å°„ä¸º F15-F24 è™šæ‹Ÿé”®ï¼š
1. æ‰“å¼€ X-Mouse Button Controlã€‚
2. é€‰æ‹©ä¾§é”® (Mouse Button 4/5)ã€‚
3. é€‰æ‹© "Simulated Keys" (æ¨¡æ‹ŸæŒ‰é”®)ã€‚
4. è¾“å…¥ `{F15}`ã€‚
5. æ¨¡å¼é€‰æ‹© "During (press on down, release on up)"ã€‚

---

## ğŸ“ æ–‡ä»¶ç»“æ„ / File Structure

```
whisper-dictation/
â”œâ”€â”€ dist/VoicePro/              # ç¼–è¯‘åçš„ä¾¿æºç‰ˆç¨‹åº (Compiled Standalone App)
â”‚   â””â”€â”€ VoicePro.exe            # ä¸»æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ start-universal.bat         # æ™ºèƒ½å¯åŠ¨è„šæœ¬ (ä¼˜å…ˆåŠ è½½æºç ï¼Œè‹¥æ— åˆ™è¿è¡Œä¾¿æºç‰ˆ)
â”œâ”€â”€ start-dev.bat               # å¼€å‘è€…å¼ºåˆ¶æºç å¯åŠ¨è„šæœ¬
â”œâ”€â”€ dictation-universal.py      # ä¸»ç¨‹åºæ ¸å¿ƒæºç  (Main Core)
â”œâ”€â”€ floating_ui.py              # æ‚¬æµ®æ§åˆ¶é¢æ¿å­è¿›ç¨‹ (Floating Panel UI)
â”œâ”€â”€ settings_gui.py             # è®¾ç½®ç•Œé¢å­è¿›ç¨‹ (Settings UI)
â”œâ”€â”€ ai_helper.py                # AI æ¨¡å—å¼•æ“ (AI Engine)
â”œâ”€â”€ ai_presets.py               # AI é¢„è®¾æ•°æ®å­—å…¸ (AI Presets)
â”œâ”€â”€ build_exe.py                # ç¼–è¯‘æ‰“åŒ…è„šæœ¬ (PyInstaller Build Script)
â”œâ”€â”€ user-config.json            # ç”¨æˆ·é…ç½®å­˜å‚¨ (User Config)
â”œâ”€â”€ .floating_state.json        # ä¸»ç¨‹åºä¸æ‚¬æµ®UIé€šä¿¡çš„IPCçŠ¶æ€æ–‡ä»¶
â””â”€â”€ AGENT_GUIDE.md              # AI å¼€å‘è€…æ¶æ„æŒ‡å— (AI Agent Guide)
```

---

## ğŸ”’ éšç§ä¸å®‰å…¨ / Privacy & Security

âœ… **100% æœ¬åœ°åŒ– (Local)**
- è¯­éŸ³è¯†åˆ«å®Œå…¨åœ¨æœ¬åœ°è¿è¡Œ (Faster-Whisper)ã€‚
- ä¸ä¸Šä¼ å½•éŸ³æ•°æ®ã€‚

âš ï¸ **AI åŠŸèƒ½ (AI Feature)**
- *ä»…å½“å¼€å¯ AI Polish æ—¶*ï¼Œæ–‡æœ¬ä¼šè¢«å‘é€åˆ°ä½ é…ç½®çš„ API æä¾›å•† (å¦‚ OpenAI)ã€‚
- *Only when AI Polish is enabled*, text is sent to your configured API provider.

---

## ğŸ“„ è®¸å¯è¯ / License
MIT License

**Made with â¤ï¸ for effortless voice typing.**
