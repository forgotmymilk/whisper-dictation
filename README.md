# Universal Whisper Dictation (é€šç”¨è¯­éŸ³è¾“å…¥æ³•) ğŸ¤

> A portable, user-friendly voice dictation system with smart formatting for Chinese, English, and mixed-language input.
> 
> ä¸€ä¸ªä¾¿æºã€æ˜“ç”¨çš„è¯­éŸ³è¾“å…¥ç³»ç»Ÿï¼Œæ”¯æŒä¸­è‹±æ–‡æ··åˆè¾“å…¥åŠæ™ºèƒ½æ ¼å¼åŒ–ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½ / Key Features

### ğŸŒ å¤šè¯­è¨€æ”¯æŒ / Multi-Language Support
- **ä¸­æ–‡ (Chinese)**: è‡ªåŠ¨æ ‡ç‚¹ (ï¼Œã€‚ï¼ï¼Ÿ)ã€æ™ºèƒ½åˆ†æ®µã€‚
- **è‹±æ–‡ (English)**: è‡ªåŠ¨æ ‡ç‚¹ã€å¥é¦–å¤§å†™ã€æ™ºèƒ½åˆ†å¥ã€‚
- **æ··åˆ (Mixed)**: è‡ªåŠ¨ä¼˜åŒ–ä¸­è‹±æ–‡ä¹‹é—´çš„ç©ºæ ¼ (Auto-spacing between Chinese & English)ã€‚

### âœ¨ AI æ¶¦è‰² (AI Polish) - **NEW!**
- **è¯­æ³•ä¿®æ­£ (Grammar Fix)**: ç¬é—´ä¿®å¤å£è¯­ä¸­çš„è¯­æ³•é”™è¯¯ã€‚
- **è¯­æ°”è°ƒæ•´ (Tone Adjustment)**: å°†åŸæœ¬çš„è¯æ”¹ä¸ºâ€œå•†åŠ¡é£â€ã€â€œåœ°é“å£è¯­â€æˆ–â€œç®€æ´æ¨¡å¼â€ã€‚
- **ç¿»è¯‘ (Translation)**:å“ªæ€•ä½ è¯´çš„æ˜¯ä¸­æ–‡ï¼Œä¹Ÿèƒ½ç›´æ¥è¾“å‡ºè‹±æ–‡ã€‚
- **å…¼å®¹æ€§ (BYO Key)**: æ”¯æŒ OpenAI, DeepSeek, Google Gemini ç­‰æ‰€æœ‰å…¼å®¹ APIã€‚
- *English:* Integrate LLM support to refine grammar, tone, or translate text instantly.

### ğŸ® æ¸¸æˆå…¼å®¹æ¨¡å¼ / Game Compatibility
- **Smart Latch**: **è½»æŒ‰ (Tap)** å¿«æ·é”®åˆ‡æ¢å½•éŸ³å¼€å…³ï¼ˆè§£å†³æ¸¸æˆå±è”½é•¿æŒ‰çš„é—®é¢˜ï¼‰ï¼›**é•¿æŒ‰ (Hold)** ä¿æŒå¯¹è®²æœºæ¨¡å¼ã€‚
- **WASAPI**: ä½¿ç”¨å…±äº«éŸ³é¢‘æ¨¡å¼ï¼Œå®Œç¾å…¼å®¹ã€Šæœ€ç»ˆå¹»æƒ³7 é‡åˆ¶ç‰ˆã€‹ã€ã€Šèµ›åšæœ‹å…‹ 2077ã€‹ç­‰ç‹¬å éŸ³é¢‘çš„æ¸¸æˆã€‚

### ğŸš€ é€šç”¨æ€§ / Universal Compatibility
- **æ— éœ€ç®¡ç†å‘˜æƒé™ (No Admin Needed)**: åœ¨ä»»ä½•æ–‡ä»¶å¤¹è§£å‹å³ç”¨ã€‚
- **è‡ªåŠ¨æ£€æµ‹ (Auto-Detect)**: è‡ªåŠ¨è¯†åˆ« NVIDIA GPU åŠ é€Ÿï¼Œæ— æ˜¾å¡è‡ªåŠ¨åˆ‡æ¢ CPU æ¨¡å¼ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ / Quick Start

### é¦–æ¬¡å®‰è£… / First Time Setup
1. **ä¸‹è½½** é¡¹ç›®æ–‡ä»¶å¤¹ã€‚
2. **åŒå‡»** `portable-setup.bat`ã€‚
3. **ç­‰å¾…** å®‰è£…å®Œæˆ (çº¦ 5-10 åˆ†é’Ÿ)ã€‚
4. **åŒå‡»** `start-universal.bat`ã€‚
5. **è·Ÿéš** äº¤äº’å¼å‘å¯¼å®Œæˆè®¾ç½®ã€‚

### æ—¥å¸¸ä½¿ç”¨ / Daily Use
åªéœ€è¿è¡Œ `start-universal.bat`ï¼Œç„¶åï¼š
- **æŒ‰ä½ (HOLD)** å¿«æ·é”® (é»˜è®¤ F15)
- **è¯´è¯ (SPEAK)** (ä¸­è‹±æ–‡æ··åˆçš†å¯)
- **æ¾å¼€ (RELEASE)** å³å¯ä¸Šå±
- **è½»æŒ‰ (TAP)** å¿«æ·é”®å¯åˆ‡æ¢ä¸ºâ€œé•¿å½•éŸ³æ¨¡å¼â€ (å†æ¬¡è½»æŒ‰åœæ­¢)

---

## âš™ï¸ é…ç½®è¯´æ˜ / Configuration

### è®¾ç½®å‘å¯¼ / Setup Wizard
é¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨å¯åŠ¨å‘å¯¼ï¼Œå¼•å¯¼ä½ è®¾ç½®ï¼š
- **è¯­è¨€åå¥½**: ä¸­æ–‡/è‹±æ–‡/æ··åˆ
- **æ–‡æœ¬é£æ ¼**: èŠå¤©/æ­£å¼/å•†åŠ¡
- **å¿«æ·é”®**: è‡ªå®šä¹‰è§¦å‘é”® (æ¨è F15-F20)

### AI æ¶¦è‰²è®¾ç½® / AI Polish Setup
åœ¨æ‰˜ç›˜å›¾æ ‡å³é”® -> **Settings** -> **AI Polish** é¡µç­¾ï¼š
- **Enable AI Polish**: å¼€å¯åŠŸèƒ½
- **API Key**: å¡«å…¥ä½ çš„ LLM API Key
- **Prompt Template**: é€‰æ‹©é¢„è®¾æ¨¡æ¿ (å¦‚ Grammar Fix) æˆ–è‡ªå®šä¹‰

### é…ç½®æ–‡ä»¶ / User Config
æ‰€æœ‰è®¾ç½®ä¿å­˜åœ¨ `user-config.json` ä¸­ï¼š
```json
{
  "hotkey": "f15",
  "ai_polish_enabled": true,
  "ai_model": "gpt-4o-mini",
  "language": null,      // null = Auto-detect
  "device": "auto"       // auto / cuda / cpu
}
```

---

## ğŸ“ æ•ˆæœç¤ºä¾‹ / Examples

### ä¸­æ–‡è¾“å…¥ (Chinese)
```
è¾“å…¥:  ä»Šå¤©å¤©æ°”çœŸå¥½å•Šæˆ‘è¦å»å…¬å›­ç©ç„¶åå›å®¶åƒé¥­
è¾“å‡º:  ä»Šå¤©å¤©æ°”çœŸå¥½å•Šï¼æˆ‘è¦å»å…¬å›­ç©ï¼Œç„¶åå›å®¶åƒé¥­ã€‚
```

### è‹±æ–‡è¾“å…¥ (English)
```
Input:  hello today is a great day i want to go to the park
Output: Hello. Today is a great day. I want to go to the park.
```

### æ··åˆè¾“å…¥ (Mixed)
```
è¾“å…¥:  æˆ‘æœ‰5ä¸ªappleå’Œ3ä¸ªbanana today is great
è¾“å‡º:  æˆ‘æœ‰ 5 ä¸ª apple å’Œ 3 ä¸ª banana. Today is great.
```

### AI æ¶¦è‰² (AI Polish)
```
è¯­éŸ³: "I want open window let wind come."
è¾“å‡º: "I would like to open the window to let in some fresh air." (Native Speaker Mode)
```

---

## ğŸ–±ï¸ é¼ æ ‡ä¾§é”®è®¾ç½® / Mouse Button Setup

æ¨èä½¿ç”¨ **X-Mouse Button Control** å°†é¼ æ ‡ä¾§é”®æ˜ å°„ä¸º F15-F24 è™šæ‹Ÿé”®ï¼š
1. æ‰“å¼€ X-Mouse Button Controlã€‚
2. é€‰æ‹©ä¾§é”® (Mouse Button 4/5)ã€‚
3. é€‰æ‹© "Simulated Keys" (æ¨¡æ‹ŸæŒ‰é”®)ã€‚
4. è¾“å…¥ `{F15}`ã€‚
5. æ¨¡å¼é€‰æ‹© "During (press on down, release on up)"ã€‚

---

## ğŸ“ æ–‡ä»¶ç»“æ„ / File Structure

```
whisper-dictation/
â”œâ”€â”€ dictation-universal.py      # ä¸»ç¨‹åº (Main Program)
â”œâ”€â”€ ai_helper.py                # AI æ¶¦è‰²æ¨¡å— (AI Module)
â”œâ”€â”€ start-universal.bat         # å¯åŠ¨è„šæœ¬ (Launcher)
â”œâ”€â”€ portable-setup.bat          # å®‰è£…è„šæœ¬ (Installer)
â”œâ”€â”€ settings_gui.py             # è®¾ç½®ç•Œé¢ (Settings UI)
â”œâ”€â”€ user-config.json            # ç”¨æˆ·é…ç½® (User Config)
â”œâ”€â”€ AGENT_GUIDE.md              # å¼€å‘è€…æŒ‡å— (Developer Guide)
â””â”€â”€ .venv/                      # Python ç¯å¢ƒ (Python Env)
```

---

## ğŸ”’ éšç§ä¸å®‰å…¨ / Privacy & Security

âœ… **100% æœ¬åœ°åŒ– (Local)**
- è¯­éŸ³è¯†åˆ«å®Œå…¨åœ¨æœ¬åœ°è¿è¡Œ (Faster-Whisper)ã€‚
- ä¸ä¸Šä¼ å½•éŸ³æ•°æ®ã€‚

âš ï¸ **AI åŠŸèƒ½ (AI Feature)**
- *ä»…å½“å¼€å¯ AI Polish æ—¶*ï¼Œæ–‡æœ¬ä¼šè¢«å‘é€åˆ°ä½ é…ç½®çš„ API æä¾›å•† (å¦‚ OpenAI)ã€‚
- *Only when AI Polish is enabled*, text is sent to your configured API provider.

---

## ğŸ“„ è®¸å¯è¯ / License
MIT License

**Made with â¤ï¸ for effortless voice typing.**
